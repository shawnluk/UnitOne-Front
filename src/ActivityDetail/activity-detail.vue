<template>
  <view class="activity-container">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <view class="header">
      <view class="header-left">
        <button class="back-btn" @click="backTo">â†</button>
        <text class="home-btn">ğŸ </text>
      </view>
      <view class="header-center">
        <text class="logo">âš¡</text>
        <text class="app-name">å–ä¼™</text>
      </view>
      <view class="header-right">
        <text class="action-btn">...</text>
        <text class="action-btn">â€”</text>
        <text class="action-btn">âšª</text>
      </view>
    </view>
    
    <!-- æ´»åŠ¨æ ‡é¢˜å’ŒçŠ¶æ€ -->
    <view class="activity-header">
      <view class="activity-tags">
        <text class="tag sport-tag">{{actDetail.data.acid}}</text>
        <text class="tag ufc-tag">{{actDetail.data.name}}</text>
      </view>
      <text class="activity-title">{{actDetail.data.title}}</text>
      <text class="activity-status">å€™è¡¥ä¸­ 0</text>
    </view>
    
    <!-- æ´»åŠ¨å›¾ç‰‡ -->
    <view class="activity-image">
      <image src="/static/helloworld_01.jpg" mode="aspectFill"></image>
      <text class="image-text">{{actDetail.data.title}}</text>
      <text class="image-subtext">å¼ºè€…å¦‚å¾‹ æ‹³æ‹³åˆ°è‚‰</text>
      <view class="image-badges">
        <text class="badge">ğŸ†</text>
        <text class="badge">ğŸŸï¸</text>
        <text class="badge">ğŸ”¥</text>
      </view>
    </view>
    
    <!-- ä»·æ ¼ä¿¡æ¯ -->
    <view class="price-section">
      <text class="price">Â¥ 25</text>
    </view>
    
    <!-- æ—¶é—´åœ°ç‚¹ä¿¡æ¯ -->
    <view class="time-location">
      <text class="time">{{actDetail.data.time}}</text>
      <view class="location">
        <!-- <text>å¹¿å·å¸‚ | </text> -->
        <text class="location-detail">{{actDetail.data.locationText}}</text>
        <text class="location-arrow">></text>
      </view>
    </view>
    
    <!-- å‚ä¸äººæ•° -->
    <view class="participants-section">
      <view class="participants-header">
        <text class="participants-count">å‚ä¸äººæ•° {{actDetail.data.joinCount}} ></text>
        <text class="wave-btn">ğŸŒŠ æµ‹ä¸€æµ‹</text>
      </view>
	  <scroll-view scroll-x class="hc-scroll" :show-scrollbar="false" >
	  	<view class="participants-avatars">
	  	  <view class="avatar-item" v-for="(item, index) in actDetail.data.joinAvatars" :key="index">
	  	    <image class="avatar" :src="item" mode="aspectFill"></image>
	  	    <!-- <text class="avatar-name">{{ participant.name }}</text> -->
	  	  </view>
	  	</view>
	  </scroll-view>
    </view>
    
    <!-- æ ‡ç­¾é¡µ -->
    <view class="tab-section">
      <text class="tab">ä¸»åŠæ–¹</text>
      <text class="tab active">æ´»åŠ¨è¯¦æƒ…</text>
      <text class="tab">æŠ¥åé¡»çŸ¥</text>
      <text class="tab highlighted">æˆ‘æ­å­</text>
    </view>
    
    <!-- æ´»åŠ¨è¯¦æƒ…å†…å®¹ -->
    <view class="content-section">
      <text class="content-title">ã€CAGESÃ—UFCçº¿ä¸‹è§‚èµ›å›¢ã€‘</text>
      <text class="content-text">å—¨å¤§å®¶å¥½ï¼</text>
      <text class="content-text">UFC324å€’è®¡æ—¶ä¸€å‘¨å†²åˆºï¼ğŸ”¥</text>
    </view>
    
    <!-- åº•éƒ¨æ“ä½œæ  -->
    <view class="bottom-bar">
      <view class="bottom-left">
        <text class="action-icon">â†—ï¸</text>
        <text class="action-icon">ğŸ’¬</text>
      </view>
      <view class="bottom-right">
        <button class="register-btn">ç«‹å³æŠ¥å</button>
      </view>
    </view>
  </view>
</template>

<script setup>
	import { reactive, ref } from 'vue';
	import { onLoad } from '@dcloudio/uni-app'
	
	const actDetail = reactive({
		data:{},
		// joinAvatars:[],
	})
	onLoad((option)=>{		
		// console.log(item)
		actDetail.data = JSON.parse(decodeURIComponent(option.item))
		// console.log(actDetail.data)
	})
	
	const backTo = () => {
			uni.switchTab({
				url:"/pages/index/index"
			})
	};
	// backTo(()=>{
	// 	uni.navigateBack()
	// })
	
	// {
	// 	acid:1,
	// 	name:"1-1",
	// 	isActive:false,
	// 	cover:"/static/e_000100_r_w.png",
	// 	title:"æ ‡é¢˜-1",
	// 	locationText:"åœ°å€-1",
	// 	timeText:"æ—¶é—´",
	// 	orgAvatar: '/static/logo.png',
	// 	orgName:"ä½œè€…-1",
	// 	joinCount:10,
	// 	joinAvatars: ['/static/flag_007_ll.png', '/static/e_000108_r.png', '/static/e_000103_r.png'],
	// },
	// å‚ä¸äººå‘˜æ•°æ®
	// const participants = ref([
	//   { name: 'El-Dla...', avatar: '/static/helloworld_01.jpg' },
	//   { name: 'è–›', avatar: '/static/helloworld_02.jpg' },
	//   { name: 'è‰¾æ–¯çš„...', avatar: '/static/logo.png' },
	//   { name: 'JC', avatar: '/static/real-madrid-ucl-1024x1024.jpg' },
	//   { name: 'Chase', avatar: '/static/e_000100_r_w.png' },
	//   { name: 'æ²ˆå…ˆç”Ÿ', avatar: '/static/e_000102_r_ll.png' }
	// ]);

	// æ´»åŠ¨è¯¦æƒ…æ•°æ®
	// const activityDetails = ref({
	//   title: 'UFC324å¹¿å·çº¿ä¸‹è§‚èµ›æ´»åŠ¨',
	//   status: 'å€™è¡¥ä¸­ 0',
	//   price: 'Â¥ 25',
	//   time: '2026å¹´01æœˆ25æ—¥ å‘¨æ—¥ 10:00 - 14:00',
	//   location: 'å¹¿å·å¸‚ | CAGESå‡¯å‰æ€Â·æ±Ÿæ™¯éœ²å°Â·è¿åŠ¨è¥¿é¤å§(ç¶é†åº—)',
	//   participantsCount: 12
	// });

	// æ–¹æ³•
	const handleBack = () => {
	  console.log('è¿”å›');
	};

	const handleRegister = () => {
	  console.log('ç«‹å³æŠ¥å');
	};

	const handleShare = () => {
	  console.log('åˆ†äº«');
	};

	const handleComment = () => {
	  console.log('è¯„è®º');
	};

</script>

<style scoped>
.activity-container {
  background-color: #1a1a1a;
  color: white;
  min-height: 100vh;
  font-size: 28rpx;
}

/* é¡¶éƒ¨å¯¼èˆªæ  */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20rpx 30rpx;
  background-color: #1a1a1a;
  border-bottom: 1rpx solid #333;
}

.header-left {
  display: flex;
  gap: 20rpx;
}

.back-btn {
  font-size: 36rpx;
}

.home-btn {
  font-size: 32rpx;
}

.header-center {
  display: flex;
  align-items: center;
  gap: 10rpx;
}

.logo {
  font-size: 32rpx;
}

.app-name {
  font-size: 32rpx;
  font-weight: bold;
  color: #ff6b00;
}

.header-right {
  display: flex;
  gap: 20rpx;
}

.action-btn {
  font-size: 28rpx;
  color: #999;
}

/* æ´»åŠ¨æ ‡é¢˜å’ŒçŠ¶æ€ */
.activity-header {
  padding: 30rpx;
}

.activity-tags {
  display: flex;
  gap: 10rpx;
  margin-bottom: 20rpx;
}

.tag {
  font-size: 20rpx;
  padding: 6rpx 12rpx;
  border-radius: 12rpx;
}

.sport-tag {
  background-color: #1890ff;
}

.ufc-tag {
  background-color: #ff4d4f;
}

.activity-title {
  font-size: 36rpx;
  font-weight: bold;
  margin-bottom: 10rpx;
  line-height: 1.3;
}

.activity-status {
  font-size: 24rpx;
  color: #ff6b00;
}

/* æ´»åŠ¨å›¾ç‰‡ */
.activity-image {
  position: relative;
  height: 400rpx;
  margin: 0 30rpx 30rpx;
  border-radius: 16rpx;
  overflow: hidden;
}

.activity-image image {
  width: 100%;
  height: 100%;
}

.image-text {
  position: absolute;
  bottom: 100rpx;
  left: 30rpx;
  font-size: 36rpx;
  font-weight: bold;
  color: white;
  text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.5);
}

.image-subtext {
  position: absolute;
  bottom: 70rpx;
  left: 30rpx;
  font-size: 24rpx;
  color: white;
  text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.5);
}

.image-badges {
  position: absolute;
  bottom: 30rpx;
  left: 30rpx;
  display: flex;
  gap: 10rpx;
}

.badge {
  font-size: 24rpx;
}

/* ä»·æ ¼ä¿¡æ¯ */
.price-section {
  padding: 0 30rpx 20rpx;
}

.price {
  font-size: 48rpx;
  font-weight: bold;
  color: #ff6b00;
}

/* æ—¶é—´åœ°ç‚¹ä¿¡æ¯ */
.time-location {
  padding: 0 30rpx 30rpx;
  border-bottom: 1rpx solid #333;
}

.time {
  display: block;
  font-size: 28rpx;
  margin-bottom: 15rpx;
  line-height: 1.3;
}

.location {
  font-size: 24rpx;
  color: #ccc;
  display: flex;
  align-items: center;
}

.location-detail {
  flex: 1;
  margin-right: 10rpx;
  line-height: 1.3;
}

.location-arrow {
  font-size: 20rpx;
}

/* å‚ä¸äººæ•° */
.hc-scroll {
  white-space: nowrap;
}

.participants-section {
  padding: 30rpx;
  border-bottom: 1rpx solid #333;
}

.participants-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20rpx;
}

.participants-count {
  font-size: 28rpx;
  font-weight: bold;
}

.wave-btn {
  font-size: 24rpx;
  background-color: #ff6b00;
  color: white;
  padding: 8rpx 16rpx;
  border-radius: 16rpx;
}

.participants-avatars {
  display: flex;
  /* flex-wrap: wrap; */
  gap: 20rpx;
}

.avatar-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100rpx;
}

.avatar {
  width: 80rpx;
  height: 80rpx;
  border-radius: 50%;
  margin-bottom: 10rpx;
}

.avatar-name {
  font-size: 20rpx;
  color: #ccc;
  text-align: center;
  line-height: 1.2;
}

/* æ ‡ç­¾é¡µ */
.tab-section {
  display: flex;
  padding: 30rpx;
  border-bottom: 1rpx solid #333;
  gap: 30rpx;
  overflow-x: auto;
}

.tab {
  font-size: 28rpx;
  color: #999;
  white-space: nowrap;
  padding-bottom: 10rpx;
  position: relative;
}

.tab.active {
  color: white;
  font-weight: bold;
}

.tab.active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 4rpx;
  background-color: #1890ff;
  border-radius: 2rpx;
}

.tab.highlighted {
  color: #ff6b00;
  font-weight: bold;
}

/* æ´»åŠ¨è¯¦æƒ…å†…å®¹ */
.content-section {
  padding: 30rpx;
  min-height: 400rpx;
}

.content-title {
  font-size: 32rpx;
  font-weight: bold;
  margin-bottom: 20rpx;
  display: block;
}

.content-text {
  font-size: 28rpx;
  line-height: 1.5;
  margin-bottom: 20rpx;
  display: block;
  color: #ccc;
}

/* åº•éƒ¨æ“ä½œæ  */
.bottom-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: #1a1a1a;
  border-top: 1rpx solid #333;
  padding: 20rpx 30rpx;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.bottom-left {
  display: flex;
  gap: 30rpx;
}

.action-icon {
  font-size: 36rpx;
}

.bottom-right {
  flex: 1;
  margin-left: 30rpx;
}

.register-btn {
  background-color: #ff6b00;
  color: white;
  font-size: 32rpx;
  font-weight: bold;
  padding: 20rpx;
  border-radius: 12rpx;
  width: 100%;
  border: none;
}
</style>